---
layout: post
title: "[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] [1ì°¨] ìºì‹œ - JavaScript"
tags: [JAVASCRIPT, PROGRAMMERS, CODINGTEST, LV2]
category: ["í”„ë¡œê·¸ë˜ë¨¸ìŠ¤"]
---

##### ë¬¸ì œ ì¶œì²˜

[Lv.2 [1ì°¨] ìºì‹œ - JavaScript](https://school.programmers.co.kr/learn/courses/30/lessons/17680?language=javascript){:target="\_blank"}

##### ë¬¸ì œ ì„¤ëª…

ì§€ë„ê°œë°œíŒ€ì—ì„œ ê·¼ë¬´í•˜ëŠ” ì œì´ì§€ëŠ” ì§€ë„ì—ì„œ ë„ì‹œ ì´ë¦„ì„ ê²€ìƒ‰í•˜ë©´ í•´ë‹¹ ë„ì‹œì™€ ê´€ë ¨ëœ ë§›ì§‘ ê²Œì‹œë¬¼ë“¤ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì½ì–´ ë³´ì—¬ì£¼ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê³  ìˆë‹¤.

ì´ í”„ë¡œê·¸ë¨ì˜ í…ŒìŠ¤íŒ… ì—…ë¬´ë¥¼ ë‹´ë‹¹í•˜ê³  ìˆëŠ” ì–´í”¼ì¹˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì˜¤í”ˆí•˜ê¸° ì „ ê° ë¡œì§ì— ëŒ€í•œ ì„±ëŠ¥ ì¸¡ì •ì„ ìˆ˜í–‰í•˜ì˜€ëŠ”ë°, ì œì´ì§€ê°€ ì‘ì„±í•œ ë¶€ë¶„ ì¤‘ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„ì˜ ì‹¤í–‰ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦°ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
ì–´í”¼ì¹˜ëŠ” ì œì´ì§€ì—ê²Œ í•´ë‹¹ ë¡œì§ì„ ê°œì„ í•˜ë¼ê³  ë‹¦ë‹¬í•˜ê¸° ì‹œì‘í•˜ì˜€ê³ , ì œì´ì§€ëŠ” DB ìºì‹œë¥¼ ì ìš©í•˜ì—¬ ì„±ëŠ¥ ê°œì„ ì„ ì‹œë„í•˜ê³  ìˆì§€ë§Œ ìºì‹œ í¬ê¸°ë¥¼ ì–¼ë§ˆë¡œ í•´ì•¼ íš¨ìœ¨ì ì¸ì§€ ëª°ë¼ ë‚œê°í•œ ìƒí™©ì´ë‹¤.

ì–´í”¼ì¹˜ì—ê²Œ ì‹œë‹¬ë¦¬ëŠ” ì œì´ì§€ë¥¼ ë„ì™€, DB ìºì‹œë¥¼ ì ìš©í•  ë•Œ ìºì‹œ í¬ê¸°ì— ë”°ë¥¸ ì‹¤í–‰ì‹œê°„ ì¸¡ì • í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

##### ì…ë ¥ í˜•ì‹

- ìºì‹œ í¬ê¸°(cacheSize)ì™€ ë„ì‹œì´ë¦„ ë°°ì—´(cities)ì„ ì…ë ¥ë°›ëŠ”ë‹¤.
- cacheSizeëŠ” ì •ìˆ˜ì´ë©°, ë²”ìœ„ëŠ” 0 â‰¦ cacheSize â‰¦ 30 ì´ë‹¤.
- citiesëŠ” ë„ì‹œ ì´ë¦„ìœ¼ë¡œ ì´ë¤„ì§„ ë¬¸ìì—´ ë°°ì—´ë¡œ, ìµœëŒ€ ë„ì‹œ ìˆ˜ëŠ” 100,000ê°œì´ë‹¤.
- **ê° ë„ì‹œ ì´ë¦„ì€ ê³µë°±, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ë“±ì´ ì—†ëŠ” ì˜ë¬¸ìë¡œ êµ¬ì„±ë˜ë©°, ëŒ€ì†Œë¬¸ì êµ¬ë¶„ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.** ë„ì‹œ ì´ë¦„ì€ ìµœëŒ€ 20ìë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.

##### ì¶œë ¥ í˜•ì‹

- ì…ë ¥ëœ ë„ì‹œì´ë¦„ ë°°ì—´ì„ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•  ë•Œ, "ì´ ì‹¤í–‰ì‹œê°„"ì„ ì¶œë ¥í•œë‹¤.

##### ì¡°ê±´

- **ìºì‹œ êµì²´ ì•Œê³ ë¦¬ì¦˜ì€ LRU(Least Recently Used)ë¥¼ ì‚¬ìš©í•œë‹¤.**
- **cache hitì¼ ê²½ìš° ì‹¤í–‰ì‹œê°„ì€ 1ì´ë‹¤.**
- **cache missì¼ ê²½ìš° ì‹¤í–‰ì‹œê°„ì€ 5ì´ë‹¤.**

##### ì˜ˆì‹œ

ì…ì¶œë ¥ ì˜ˆ

| cacheSize | cities                                                                                                            | return |
| --------- | ----------------------------------------------------------------------------------------------------------------- | ------ |
| 3         | ["Jeju", "Pangyo", "Seoul", "NewYork", "LA", "Jeju", "Pangyo", "Seoul", "NewYork", "LA"]                          | 50     |
| 3         | ["Jeju", "Pangyo", "Seoul", "Jeju", "Pangyo", "Seoul", "Jeju", "Pangyo", "Seoul"]                                 | 21     |
| 2         | ["Jeju", "Pangyo", "Seoul", "NewYork", "LA", "SanFrancisco", "Seoul", "Rome", "Paris", "Jeju", "NewYork", "Rome"] | 60     |
| 5         | ["Jeju", "Pangyo", "Seoul", "NewYork", "LA", "SanFrancisco", "Seoul", "Rome", "Paris", "Jeju", "NewYork", "Rome"] | 52     |
| 2         | ["Jeju", "Pangyo", "NewYork", "newyork"]                                                                          | 16     |
| 0         | ["Jeju", "Pangyo", "Seoul", "NewYork", "LA"]                                                                      | 25     |

##### í’€ì´

```javascript
function solution(cacheSize, cities) {
  // MISS ì‹œê°„ê³¼ HIT ì‹œê°„ì„ ìƒìˆ˜ë¡œ ì„¤ì •í•´ë‘”ë‹¤.
  const MISS = 5;
  const HIT = 1;

  // ìºì‹œ ì‚¬ì´ì¦ˆê°€ 0ì´ë©´ ìºì‹œë¥¼ í•  ìˆ˜ ì—†ìœ¼ë‹ˆ í¬ê¸° * MISS ê°’ì´ ëœë‹¤.
  if (cacheSize === 0) return MISS * cities.length;

  let answer = 0;

  // ìºì‹œë¥¼ ì…‹íŒ…í•œë‹¤.
  const cache = [];

  cities.forEach((city) => {
    // ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ëŒ€ë¬¸ìë¡œ í†µì¼í•´ì¤€ë‹¤.
    const cityUp = city.toUpperCase();

    // ìºì‹œì— í˜„ì œ ë“¤ì–´ì˜¨ ë„ì‹œê°€ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.
    const idx = cache.indexOf(cityUp);

    if (idx === -1) {
      // ì—†ìœ¼ë©´ ìºì‹œ ì‚¬ì´ì¦ˆë¥¼ í™•ì¸í•˜ê³  ì‚¬ì´ì¦ˆë¥¼ ì´ˆê³¼ ì‹œ
      // ì ¤ ì˜¤ë˜ëœ ìºì‹œë¥¼ ì‚­ì œì‹œì¼œì¤€ë‹¤.
      if (cache.length >= cacheSize) cache.shift();

      // ê·¸ë¦¬ê³  ìºì‹œ ë¯¸ìŠ¤ê°€ ë‚¬ìœ¼ë‹ˆ ë¯¸ìŠ¤ ì‹œê°„ì„ ë”í•´ì¤€ë‹¤.
      answer += MISS;
    } else {
      // ìºì‹œì— ìˆìœ¼ë©´ ìƒˆë¡­ê²Œ ì—…ë°ì´íŠ¸ë¥¼ í•´ì•¼í•˜ë¯€ë¡œ ê¸°ì¡´ ë°°ì—´ì—ì„œ ë¹¼ì¤€ë‹¤.
      cache.splice(idx, 1);

      // ìºì‹œì— ì¡´ì¬í•˜ë‹ˆ í› ì‹œê°„ì„ ë”í•´ì¤€ë‹¤.
      answer += HIT;
    }

    // ìƒˆë¡œ ë“¤ì–´ì˜¨ ë„ì‹œë¥¼ ìºì‹œì— ë„£ì–´ì¤€ë‹¤.
    cache.push(cityUp);
  });

  // ì´ ì‹¤í–‰ì‹œê°„ì„ ë¦¬í„´í•œë‹¤.
  return answer;
}
```

##### ì •ë¦¬

2018ë…„ ì¹´ì¹´ì˜¤ ë¸”ë¼ì¸ë“œ ì±„ìš© ë¬¸ì œì˜€ìŠµë‹ˆë‹¤!<br/>
ì‚¬ìš©ëœ ë©”ì„œë“œì™€ ë¬¸ë²•ì— ëŒ€í•´ ë” ê³µë¶€í•˜ê³  ì‹¶ìœ¼ì‹  ë¶„ì€ **ë§í¬**ë¥¼ í´ë¦­í•´ì£¼ì„¸ìš”!

[toUpperCase() ë©”ì„œë“œ - MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase){:target="\_blank"}<br />
[indexOf() ë©”ì„œë“œ - MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf){:target="\_blank"}<br />
[shift() ë©”ì„œë“œ - MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/shift){:target="\_blank"}<br />
[splice() ë©”ì„œë“œ - MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/splice){:target="\_blank"}<br />

í”¼ë“œë°±ì€ ì–¸ì œë‚˜ í™˜ì˜ì…ë‹ˆë‹¤. ğŸ˜Š
