---
layout: post
title: "[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] ë””íœìŠ¤ ê²Œì„ - JavaScript"
tags: [JAVASCRIPT, PROGRAMMERS, LV2]
category: ['í”„ë¡œê·¸ë˜ë¨¸ìŠ¤']
---

##### ë¬¸ì œ ì¶œì²˜

[Lv.2 ë””íœìŠ¤ ê²Œì„ - JavaScript](https://school.programmers.co.kr/learn/courses/30/lessons/142085?language=javascript){:target="\_blank"}

##### ìˆ™ì§€ ì‚¬í•­

> ìë£Œêµ¬ì¡° í™(Heap) ì¤‘ì— ìµœëŒ€ í™(Max Heap)ì„ ìˆ™ì§€í•˜ê³  ì§„í–‰í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

##### ë¬¸ì œ ì„¤ëª…

ì¤€í˜¸ëŠ” ìš”ì¦˜ ë””íœìŠ¤ ê²Œì„ì— í‘¹ ë¹ ì ¸ ìˆìŠµë‹ˆë‹¤. ë””íœìŠ¤ ê²Œì„ì€ ì¤€í˜¸ê°€ ë³´ìœ í•œ ë³‘ì‚¬ nëª…ìœ¼ë¡œ ì—°ì†ë˜ëŠ” ì ì˜ ê³µê²©ì„ ìˆœì„œëŒ€ë¡œ ë§‰ëŠ” ê²Œì„ì…ë‹ˆë‹¤. ë””íœìŠ¤ ê²Œì„ì€ ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.

- ì¤€í˜¸ëŠ” ì²˜ìŒì— **ë³‘ì‚¬ nëª…**ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
- ë§¤ ë¼ìš´ë“œë§ˆë‹¤ **enemy[i]ë§ˆë¦¬ì˜ ì **ì´ ë“±ì¥í•©ë‹ˆë‹¤.
- **ë‚¨ì€ ë³‘ì‚¬ ì¤‘ enemy[i]ëª… ë§Œí¼ ì†Œëª¨í•˜ì—¬ enemy[i]ë§ˆë¦¬ì˜ ì ì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.**
  - ì˜ˆë¥¼ ë“¤ì–´ ë‚¨ì€ ë³‘ì‚¬ê°€ 7ëª…ì´ê³ , ì ì˜ ìˆ˜ê°€ 2ë§ˆë¦¬ì¸ ê²½ìš°, í˜„ì¬ ë¼ìš´ë“œë¥¼ ë§‰ìœ¼ë©´ 7 - 2 = 5ëª…ì˜ ë³‘ì‚¬ê°€ ë‚¨ìŠµë‹ˆë‹¤.
  - **ë‚¨ì€ ë³‘ì‚¬ì˜ ìˆ˜ë³´ë‹¤ í˜„ì¬ ë¼ìš´ë“œì˜ ì ì˜ ìˆ˜ê°€ ë” ë§ìœ¼ë©´ ê²Œì„ì´ ì¢…ë£Œë©ë‹ˆë‹¤.**
- ê²Œì„ì—ëŠ” ë¬´ì ê¶Œì´ë¼ëŠ” ìŠ¤í‚¬ì´ ìˆìœ¼ë©°, **ë¬´ì ê¶Œì„ ì‚¬ìš©í•˜ë©´ ë³‘ì‚¬ì˜ ì†Œëª¨ì—†ì´ í•œ ë¼ìš´ë“œì˜ ê³µê²©ì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.**
- **ë¬´ì ê¶Œì€ ìµœëŒ€ kë²ˆ** ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¤€í˜¸ëŠ” ë¬´ì ê¶Œì„ ì ì ˆí•œ ì‹œê¸°ì— ì‚¬ìš©í•˜ì—¬ **ìµœëŒ€í•œ ë§ì€ ë¼ìš´ë“œë¥¼ ì§„í–‰**í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.

ì¤€í˜¸ê°€ ì²˜ìŒ ê°€ì§€ê³  ìˆëŠ” ë³‘ì‚¬ì˜ ìˆ˜ n, ì‚¬ìš© ê°€ëŠ¥í•œ ë¬´ì ê¶Œì˜ íšŸìˆ˜ k, ë§¤ ë¼ìš´ë“œë§ˆë‹¤ ê³µê²©í•´ì˜¤ëŠ” ì ì˜ ìˆ˜ê°€ ìˆœì„œëŒ€ë¡œ ë‹´ê¸´ ì •ìˆ˜ ë°°ì—´ enemyê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§‘ë‹ˆë‹¤. ì¤€í˜¸ê°€ ëª‡ ë¼ìš´ë“œê¹Œì§€ ë§‰ì„ ìˆ˜ ìˆëŠ”ì§€ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•´ì£¼ì„¸ìš”.

##### ì œí•œ ì¡°ê±´

- 1 â‰¤ n â‰¤ 1,000,000,000
- 1 â‰¤ k â‰¤ 500,000
- **1 â‰¤ enemyì˜ ê¸¸ì´ â‰¤ 1,000,000**
- 1 â‰¤ enemy[i] â‰¤ 1,000,000
- enemy[i]ì—ëŠ” i + 1 ë¼ìš´ë“œì—ì„œ ê³µê²©í•´ì˜¤ëŠ” ì ì˜ ìˆ˜ê°€ ë‹´ê²¨ìˆìŠµë‹ˆë‹¤.
- ëª¨ë“  ë¼ìš´ë“œë¥¼ ë§‰ì„ ìˆ˜ ìˆëŠ” ê²½ìš°ì—ëŠ” enemy[i]ì˜ ê¸¸ì´ë¥¼ return í•´ì£¼ì„¸ìš”.

##### ì˜ˆì‹œ

ì…ì¶œë ¥ ì˜ˆ

| n   | k   | enemy                 | return |
| --- | --- | --------------------- | ------ |
| 7   | 3   | [4, 2, 4, 5, 3, 3, 1] | 5      |
| 2   | 4   | [3, 3, 3, 3]          | 4      |

##### í’€ì´

![heapsort](../../assets/img/heapsort.gif "ì¶œì²˜ https://www.codesdope.com/course/algorithms-heapsort/")

```javascript
// MaxHeapì„ êµ¬í˜„í•œë‹¤.
// MaxHeapì— ê´€í•œ ì½”ë“œëŠ” ë”°ë¡œ í¬ìŠ¤íŒ…ì„ í•˜ê² ìŠµë‹ˆë‹¤.
class MaxHeap {
  constructor() {
    this.val = [];
  }
  insert(val) {
    this.val.push(val);
    this.bubbleUp();
  }
  bubbleUp() {
    let idx = this.val.length - 1;
    const element = this.val[idx];
    while (idx > 0) {
      let parentIdx = Math.floor((idx - 1) / 2);
      let parent = this.val[parentIdx];
      if (element <= parent) break;
      this.val[parentIdx] = element;
      this.val[idx] = parent;
      idx = parentIdx;
    }
  }
  extractMax() {
    if (!this.val.length) return undefined;

    const max = this.val[0];
    const end = this.val.pop();
    if (this.val.length > 0) {
      this.val[0] = end;
      this.sinkDown();
    }
    return max;
  }
  sinkDown() {
    let idx = 0;
    const element = this.val[0];
    while (true) {
      const leftIdx = idx * 2 + 1;
      const leftVal = this.val[leftIdx];
      const rightIdx = idx * 2 + 2;
      const rightVal = this.val[rightIdx];

      if (element < leftVal && element < rightVal) {
        const maxIdx = leftVal > rightVal ? leftIdx : rightIdx;
        this.val[idx] = this.val[maxIdx];
        this.val[maxIdx] = element;
        idx = maxIdx;
      } else if (element < leftVal) {
        this.val[idx] = leftVal;
        this.val[leftIdx] = element;
        idx = leftIdx;
      } else if (element < rightVal) {
        this.val[idx] = rightVal;
        this.val[rightIdx] = element;
        idx = rightIdx;
      } else {
        break;
      }
    }
  }
}

function solution(n, k, enemy) {
  let answer = 0;

  // êµ¬í˜„í•œ MapHeapì„ ì„ ì–¸í•©ë‹ˆë‹¤.
  const maxHeap = new MaxHeap();

  // enemy ë°°ì—´ì„ í•˜ë‚˜ì”© í™•ì¸í•´ì¤ë‹ˆë‹¤.
  for (let i = 0; i < enemy.length; i++) {
    // maxHeapì— ë“¤ì–´ì˜¨ ì ì˜ ìˆ˜ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.
    // (maxHeapì—ì„œ ë‚˜ì¤‘ì— ê°€ì ¸ì˜¬ë•Œ ë“¤ì–´ê°„ ê°’ë“¤ ì¤‘ ê°€ì¥ í° ê°’ë¶€í„° ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.)
    maxHeap.insert(enemy[i]);

    // ë³‘ì‚¬ nì—ì„œ ë“¤ì–´ì˜¨ ì ì˜ ìˆ˜ë¥¼ ë¹¼ì¤ë‹ˆë‹¤.
    n -= enemy[i];

    // ë³‘ì‚¬ê°€ 0ëª… ì´í•˜ê°€ ëì„ ë•Œ..
    if (n < 0) {
      // ë¬´ì ê¶Œ ìŠ¤í‚¬ì´ ë‚¨ì•„ìˆìœ¼ë©´..
      if (k) {
        // maxHeapì—ì„œ ê°€ì¥ í° ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
        // (ë¼ìš´ë“œ ì¤‘ ë³‘ë ¥ ì†Œëª¨ê°€ ê°€ì¥ ë§ì€ ê°’)
        const max = maxHeap.extractMax();

        // nì— ê°€ì ¸ì˜¨ ê°€ì¥ í° ê°’ì„ ë”í•´ì£¼ê³  ë¬´ì ê¶Œì„ í•˜ë‚˜ ê°ì†Œì‹œì¼œì¤€ë‹¤.
        n += max;
        k--;

        // ë§Œì•½ ë¬´ì ê¶Œ ìŠ¤í‚¬ì´ ë‚¨ì•„ìˆì§€ ì•Šë‹¤ë©´ ê·¸ëŒ€ë¡œ ë£¨í”„ë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤.
      } else break;
    }

    // ìœ„ì˜ ìƒí™©ì´ ë‹¤ ì´ë¤„ì¡Œì„ ê²½ìš° answerì„ í•˜ë‚˜ ì¦ê°€ì‹œí‚¨ë‹¤.
    answer++;
  }

  return answer;
}

console.log(solution(7, 3, [4, 2, 4, 5, 3, 3, 1])); // 5
console.log(solution(2, 4, [3, 3, 3, 3])); // 4
```

##### ì •ë¦¬

ìë£Œêµ¬ì¡° í™ì— ê´€í•˜ì—¬ ì•Œë©´ ì‰½ê²Œ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” í™ì´ ì•„ë‹ˆë¼ ì‰½ê²Œ ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í’€ì–´ë´¤ëŠ”ë° í…ŒìŠ¤íŠ¸ 6ë²ˆë§Œ ì‹œê°„ ì´ˆê³¼ì— ê±¸ë ¤ì„œ í™ì„ êµ¬í˜„í•˜ì—¬ ë¬¸ì œë¥¼ í’€ì–´ë´¤ìŠµë‹ˆë‹¤.<br/>

í”¼ë“œë°±ì€ ì–¸ì œë‚˜ í™˜ì˜ì…ë‹ˆë‹¤. ğŸ˜Š
